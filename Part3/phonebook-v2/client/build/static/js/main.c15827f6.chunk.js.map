{"version":3,"sources":["Components/Filter.js","Components/PersonForm.js","Components/Persons.js","services/personService.js","Components/PhoneMessage.js","App.js","index.js"],"names":["Filter","search","handleFilter","value","onChange","PersonForm","persons","addPerson","updateNum","useState","newName","setNewName","number","setNumber","event","target","onClick","preventDefault","personObj","filteredArrName","filter","person","name","toLowerCase","trim","length","alert","window","confirm","type","Persons","onDelete","map","id","url","personServ","create","newObj","axios","post","then","res","data","deleteP","delete","update","modifiedObj","put","PhoneMessage","errorMsg","msgColor","className","App","setPersons","setSearch","errorMessage","setErrorMessage","redMsg","setredMsg","useEffect","get","catch","err","fileredArr","includes","newPerson","returnedRes","concat","setTimeout","response","error","modifiedNum","prev","p","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c15827f6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ search, handleFilter }) => {\n    return (\n        <div>\n            filter shown with <input value={search} onChange={handleFilter} />\n        </div>\n    )\n}\n\nexport default Filter\n","import React, { useState } from \"react\";\n\nconst PersonForm = ({ persons, addPerson, updateNum }) => {\n  const [newName, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const addNew = () => {\n    addPerson(newName, number);\n  };\n\n  const handleNewName = (event) => {\n    const value = event.target.value;\n    setNewName(value);\n  };\n\n  const handleNumber = (event) => {\n    const value = event.target.value;\n    setNumber(value);\n  };\n\n  const updateNumber = (personObj) => updateNum(number, personObj);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    //persons array where the input name already exists\n    const filteredArrName = persons.filter(\n      (person) =>\n        person.name.toLowerCase().trim() === newName.toLowerCase().trim()\n    );\n\n    //if person exists in the array\n    if (filteredArrName.length > 0) {\n      //if same number already exists\n      if (filteredArrName[0].number === number)\n        alert(`${newName} is already added to phonebook`);\n      //if number does not exist\n      else {\n        const up = window.confirm(\n          `${newName} is already added to phonebook, replace the old number with the new one ?`\n        );\n        if (up) updateNumber(filteredArrName[0]);\n      }\n    } else {\n      addNew();\n    }\n    setNewName(\"\");\n    setNumber(\"\");\n  };\n\n  return (\n    <div>\n      <form>\n        <div>\n          name: <input value={newName} onChange={handleNewName} />\n        </div>\n        <div>\n          number: <input value={number} onChange={handleNumber} />\n        </div>\n\n        <div>\n          <button onClick={handleSubmit} type=\"submit\">\n            add\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react'\n\nconst Persons = ({ persons, onDelete }) => {\n\n\n    return (\n        <div>\n            {\n                persons.map((person) =>\n                    <p key={person.name}>{person.name} {person.number} <button onClick={() => onDelete(person.id, person.name)}>delete</button></p>\n                )\n            }\n        </div>\n    )\n}\n\nexport default Persons\n","import axios from \"axios\";\n\nconst url = \"/api/persons\";\n\nconst create = (newObj) => {\n  const req = axios.post(url, newObj);\n  return req.then((res) => res.data);\n};\n\nconst deleteP = (id) => {\n  const req = axios.delete(`${url}/${id}`);\n  return req.then((res) => res.data);\n};\n\nconst update = (id, modifiedObj) => {\n  const req = axios.put(`${url}/${id}`, modifiedObj);\n  return req.then((res) => res.data);\n};\n\nconst personServ = {\n  create,\n  deleteP,\n  update,\n};\n\nexport default personServ;\n","import React from \"react\";\n\nconst PhoneMessage = ({ errorMsg, msgColor }) => {\n  if (errorMsg === null) return null;\n  return msgColor ? (\n    <div className=\"error-red\">{errorMsg}</div>\n  ) : (\n    <div className=\"error-green\">{errorMsg}</div>\n  );\n};\n\nexport default PhoneMessage;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./Components/Filter\";\nimport PersonForm from \"./Components/PersonForm\";\nimport Persons from \"./Components/Persons\";\nimport axios from \"axios\";\nimport personServ from \"./services/personService\";\nimport PhoneMessage from \"./Components/PhoneMessage\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [redMsg, setredMsg] = useState(true);\n\n  useEffect(() => {\n    axios\n      .get(\"/api/persons\")\n      .then((res) => setPersons(res.data))\n      .catch((err) => {\n        setredMsg(true);\n        setErrorMessage(\"Error:\", err);\n      });\n  }, []);\n\n  const handleFilter = (event) => {\n    const value = event.target.value;\n    setSearch(value);\n  };\n\n  //array containing matching input name\n  const fileredArr = persons.filter((person) =>\n    person.name.toLowerCase().includes(search.toLowerCase())\n  );\n\n  const addPerson = (name, number) => {\n    const newPerson = {\n      name,\n      number,\n    };\n\n    personServ\n      .create(newPerson)\n      .then((returnedRes) => {\n        setredMsg(false);\n        setPersons(persons.concat(returnedRes));\n        setErrorMessage(\"Added \" + newPerson.name);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      })\n      .catch((err) => {\n        setredMsg(true);\n        setErrorMessage(`Error: ${err.response.data.error}`);\n      });\n  };\n\n  const deletePerson = (id, name) => {\n    const del = window.confirm(`Delete ${name} ?`);\n    if (del)\n      personServ\n        .deleteP(id)\n        .then((res) => {\n          setPersons((prev) => prev.filter((person) => person.id !== id));\n          setredMsg(true);\n          setErrorMessage(\"Deleted \" + name);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        })\n        .catch((err) => {\n          setredMsg(true);\n          setErrorMessage(`Error: ${err.response.data.error}`);\n        });\n  };\n\n  const updatePersonNum = (number, personObj) => {\n    const modifiedNum = {\n      ...personObj,\n      number: number,\n    };\n    personServ\n      .update(personObj.id, modifiedNum)\n      .then((returnedRes) =>\n        setPersons((prev) =>\n          prev.map((p) => (personObj.id === p.id ? returnedRes : p))\n        )\n      )\n      .catch((err) => {\n        console.log(err);\n        setredMsg(true);\n        setErrorMessage(`Error: ${err.response.data.error}`);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      });\n  };\n\n  return (\n    <div>\n      <h2>PhoneBook</h2>\n      <PhoneMessage errorMsg={errorMessage} msgColor={redMsg} />\n      <Filter search={search} handleFilter={handleFilter} />\n      <h2>Add a New</h2>\n      <PersonForm\n        persons={persons}\n        addPerson={addPerson}\n        updateNum={updatePersonNum}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={fileredArr} onDelete={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}